---
author: Alex
date: 2020-11-29
layout: post
title: React 实践分享 - 可视化配置工具的插件体系设计
tags:
  - 记录
---

## 前言

在现实中，大部分的软件项目的生命周期都是很短的，特别是互联网公司的产品。

在项目周期如此短的情况下，对于软件的框架设计也有着符合时代的需求：适合短平快的开发。

于是各大互联网公司有了很多符合时代节奏的框架 ---- 前端框架，例如蚂蚁金服的 `antd` 系列，美团的 `element ui` 系列等。

这类型的框架有他们的意义，对于企业来说，最重要的是`降低开发同样质量的项目的成本`，可以标准化生产，可以让项目外包给更便宜的人力外包来做。这些框架的核心意义是`保证最低的交付质量`。

然后是将框架开源，名号是让其成为业界领先标准。其根本意图还是让大家都熟悉这些框架，然后人力成本逐步降低。学会用 `antd` 、`element ui` 之类的可以很容易找到工作，因为大公司需要更多低成本的劳动力。

所以学会用几个 UI 框架，我认为是前端的入门，但是如果想要提高水平，则眼光眼放更长远一些，多看看 GitHub 上更优秀的开源项目，多看看一些技术的本质，避免掉入`廉价的前端劳动力`的陷阱。

## 项目的体量

现实生活中，80% 的项目都是小微型项目，周期不会太长，通常一两个前端 + 一两个后端即可满足需求，在前端的技术选型上选择开源的、现成的 UI 框架即可满足，生活美滋滋。

但是如果我们都安于现状，不提升自身的认知，在我们有机会接触中大型项目时，很容易就错过了。

所以这里以自定义工具 3.0 的前端的架构的插件系统的设计为主题，分享一下我们是如何思考的系统的设计的。

## 遇到的问题

### 多人协作

我们遇到的第一个问题就是如何多人协作。考量一个中大型的系统是否健壮，主要看是否支持多人共同开发、维护。

### 接入标准化

然后就是如何提供标准化的接入方式，让更多人可以参与到工具组件的开发中来。

## 解决问题的思路

### webpack 的设计

webpack 是开源社区最流行的基础工具之一。webpack 也是最简约

### render prop

官方文档参考：https://zh-hans.reactjs.org/docs/render-props.html

这是一种将组件内部的部分实现，交给调用方的一种方法

